{{- /* layouts/partials/admin-menu.html */ -}}
<div id="admin-wrapper" style="position:relative;z-index:1000;">
  <button id="admin-btn"
    style="background:none;border:none;color:#ffcf00;font-size:1.6rem;cursor:pointer;
           padding:.3rem .6rem;line-height:1;">
    &#9881;
  </button>

  <div id="admin-menu"
    style="display:none;position:absolute;right:0;margin-top:.5rem;
           background:#111;border:1px solid #333;border-radius:8px;
           box-shadow:0 3px 8px rgba(0,0,0,.5);min-width:180px;padding:.4rem 0;">
    {{ with site.Menus.admin }}
      {{ range . }}
        <a href="{{ .URL }}"
           style="display:block;padding:.5rem 1rem;color:#eee;
                  text-decoration:none;font-size:.95rem;">
          {{ .Name }}
        </a>
      {{ end }}
    {{ else }}
      <a href="/admin/" style="display:block;padding:.5rem 1rem;color:#eee;text-decoration:none;">Dashboard</a>
      <a href="/admin/create/" style="display:block;padding:.5rem 1rem;color:#eee;text-decoration:none;">Create Post</a>
      <a href="/admin/settings/" style="display:block;padding:.5rem 1rem;color:#eee;text-decoration:none;">Settings</a>
    {{ end }}
  </div>
</div>

<script>
document.addEventListener("click", function(e) {
  const btn = document.getElementById("admin-btn");
  const menu = document.getElementById("admin-menu");
  if (!btn || !menu) return;
  const clickedInside = btn.contains(e.target) || menu.contains(e.target);
  if (clickedInside) {
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
  } else {
    menu.style.display = "none";
  }
});
</script>
