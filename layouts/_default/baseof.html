{{- $styles := resources.Get "css/main.css" | minify | fingerprint -}}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ block "title" . }}{{ .Site.Title }}{{ end }}</title>
  <link rel="stylesheet" href="{{ $styles.RelPermalink }}">
  <style>
    :root { --sidew: 260px; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: #000;
      color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }

    /* Layout */
    .site-wrap { display: flex; min-height: 100vh; }
    .sidebar {
      width: var(--sidew);
      background:#111;
      padding: 1.5rem 1.25rem;
      position: fixed; inset: 0 auto 0 0;
      display: flex; flex-direction: column; align-items: center;
      border-right: 1px solid #222; /* vertical divider */
    }
    .logo {
      width: 160px; height: auto; margin-bottom: 1rem;
      filter: drop-shadow(0 0 4px #ff4f00);
    }
    .headshot {
      width: 160px; height:160px; border-radius: 50%;
      object-fit: cover; border: 3px solid #ff4f00; margin-bottom: 1.25rem;
    }
    .side-nav a {
      display:block; padding:.6rem 0; color:#fff; text-decoration:none; text-align:center;
    }
    .side-nav a:hover { color:#ffcf00; }

    .side-foot { margin-top:auto; text-align:center; opacity:.7; font-size:.9rem; }
    .side-foot a { color:#bbb; text-decoration:none; }
    .side-foot a:hover { color:#fff; }

    .main {
      margin-left: var(--sidew);
      min-height: 100vh;
      display:flex; flex-direction:column;
    }

    /* Top header bar (only admin gear) */
    .topbar {
      height: 56px; display:flex; align-items:center; justify-content:flex-end;
      position: sticky; top:0; z-index: 50;
      padding: 0 .75rem 0 1rem;
      background:#0b0b0b; border-bottom:1px solid #222;
    }

    /* Main content area */
    .content {
      flex:1; padding: 2rem 2rem 3rem 2rem;
    }

    /* Basic responsiveness */
    @media (max-width: 900px) {
      :root { --sidew: 92px; }
      .logo { display:none; }
      .headshot { width:72px; height:72px; margin-bottom:.5rem; border-width:2px; }
      .side-nav a { padding:.45rem 0; font-size:.95rem; }
    }
  </style>
</head>

<body>
  <div class="site-wrap">

    <!-- Sidebar -->
    <aside class="sidebar">
      <img src="/images/logo.png" alt="Mike G Robinson Signature" class="logo">
      <img src="/images/head-shot.png" alt="Mike G Robinson" class="headshot">

      <nav class="side-nav" aria-label="Main">
        {{ range site.Menus.main }}
          <a href="{{ .URL }}">{{ .Name }}</a>
        {{ end }}
      </nav>

      <div class="side-foot">
        © {{ now.Year }} Mike G Robinson<br>
        <a href="/posts/">Blog</a> · <a href="/subscribe/">Subscribe</a>
      </div>
    </aside>

    <!-- Main column -->
    <div class="main">
      {{ partial "header.html" . }}
      <main class="content">
        {{ block "main" . }}{{ end }}
      </main>
      {{ partial "footer.html" . }}
    </div>

  </div>
</body>
</html>
